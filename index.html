<!DOCTYPE html>
<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/ScrollTrigger.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/ScrollToPlugin.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Young+Serif&display=swap');

    body,
    html {
      width: 100%;
      height: 100%;
      background: #000;
      background-size: cover;
      font-family: 'Montserrat', sans-serif;
      font-size: 99px;
      text-align: center;
      overflow-x: hidden;
      background-color: black;
    }

    .scrollDist {
      position: absolute;
    }
    iframe
    {
      border:none;
    }

    svg
    {
      border: none;
      overflow: auto;
      scrollbar-width: none;
      -webkit-scrollbar-width: none;
    }
    .no-scroll {
      overflow: hidden;
    }
    #oldText {
      fill: black;
      opacity: 0;
    }
    .haha {
      font-family: 'Young Serif', serif;
    }
  </style>
</head>

<body>
  <div class="scrollDist"></div>
  <div class="main">
    <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
      <mask id="m">
        <g class="cloud1">
          <rect fill="#fff" width="100%" height="801" y="799" />
          <image xlink:href="https://assets.codepen.io/721952/cloud1Mask.jpg" width="1200" height="800" />
        </g>
      </mask>

      <image class="sky" xlink:href="https://static.vecteezy.com/system/resources/thumbnails/005/255/101/original/night-starry-skies-with-white-blinking-stars-free-video.jpg" width="100%"/>
      <!-- <image class="mountBg" xlink:href="https://assets.codepen.io/721952/mountBg.png" width="1200" height="800" /> -->
      <image class="mountMg" xlink:href="moon.png" width="1200" height="800" />
      <image class="cloud2" xlink:href="https://assets.codepen.io/721952/cloud2.png" width="1200" height="800" />
      <!-- <image class="mountFg" xlink:href="cld2.png" width="1200" height="800" /> -->
      <image class="cloud1" xlink:href="https://assets.codepen.io/721952/cloud1.png" width="1200" height="800" />
      <image class="cloud3" xlink:href="https://assets.codepen.io/721952/cloud3.png" width="1200" height="800" />
      <text fill="#fff" x="350" y="200">EXPLORE</text>
      <polyline class="arrow" fill="#fff"
        points="599,250 599,289 590,279 590,282 600,292 610,282 610,279 601,289 601,250" />
        <defs>
          <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#ffffff" />
            <stop offset="100%" stop-color="#171424" />
          </linearGradient>
          <linearGradient id="newGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#162a43" />
            <stop offset="100%" stop-color="#ffffff" />
          </linearGradient>
        </defs>
      <g mask="url(#m)">
        <rect fill="#000" width="100%" height="100%" />
        <!-- Old Text with ID "oldText" -->
        <text x="330" y="200" fill="#fff">THE MOON</text>
        <text id="oldText" x="650" y="240" style="font-size:20px;">WITH MOONSTERS, INC.</text>
        <a href="./particle.html">
          <!-- Create a rectangular shape for the button -->
          <rect id="oldText" x="360" y="300" width="500" height="60" rx="10" ry="10" fill="#555555" />
      
          <!-- Add text inside the button -->
          <text class="haha" x="610" y="340" font-size="30" fill="#000" text-anchor="middle">Discover the Lunar Frontier</text>
        </a>
        <rect id="oldText" x="-20" y="500" width="3000" height="60" rx="10" ry="10" fill="#555555" />
      
        <!-- Add text inside the button -->
        <text class="haha" x="300" y="540" font-size="30" fill="#000" text-anchor="middle"><a href="int.html">Visualise Moonquakes!</a></text>
        <text class="haha" x="900" y="540" font-size="30" fill="#000" text-anchor="middle"><a href="https://play.unity.com/mg/other/webgl-builds-373572">Walk Around on the Moon!</a></text>
        <text id="feat" class="haha" x="350" y="770" fill="#fff">Feature:</text>
        <!-- New Text with ID "newText" -->
        <!-- <text id="newText" x="50%" y="200" fill="#162a43" style="opacity: 0; font-size:20px;" text-anchor="middle">
          Embark on an Extraordinary Lunar Adventure from the Comfort of Your Screen!<tspan x="50%" dy="1.2em">Explore the Mysteries of the Moon with Our Interactive Model: Moonquakes, Moonwalks, and More Awaits!</tspan><tspan x="50%" dy="1.2em">Discover Lunar Artifacts and Uncover the Secrets of Space Missions!</tspan><tspan x="50%" dy="1.2em">Start Your Journey Now!</tspan>
        </text> -->
      </g>

      <!-- <rect id="arrowBtn" width="100" height="100" opacity="0" x="550" y="220" style="cursor:pointer" /> -->
    </svg>
    <div class="scroll-trigger"></div>
    <iframe src="./room/index.html" width="100%" height="500" title="Iframe"></iframe>
  </div>
  <script>
    gsap.set('.main', { position: 'absolute', background: '#fff', width: '100%', maxWidth: '1300px', height: '100%', top: 0, left: '50%', x: '-50%' });
    gsap.set('.scrollDist', { width: '100%', height: '200%' });
  
    // Create a timeline for the cloud animations with slower duration
    var cloudTimeline = gsap.timeline()
      .fromTo('.cloud1', { y: 100 }, { y: -800, duration: 15 }, 0)
      .fromTo('.cloud2', { y: -150 }, { y: -500, duration: 15 }, 0)
      .fromTo('.cloud3', { y: -50 }, { y: -650, duration: 15 }, 0)
      .to(['#gradient', '#oldText'], { opacity: 0, duration: 15 }, 0.3)
      .to('#oldText', { fill: 'white', opacity: 1, duration: 15 }, 0.3); // Animation for oldText
  
    // Add an onComplete callback to the cloudTimeline
    cloudTimeline.eventCallback("onComplete", function () {
      // Enable document scrolling after the cloud animations are complete
      gsap.timeline({
        scrollTrigger: {
          trigger: '.scroll-trigger',
          start: 'top center',
          end: 'center center',
          toggleActions: 'play none none reverse',
        }
      }).to('body', { className: '+=no-scroll', duration: 0.1 });
    });
  
    // Create a timeline for the sky animation
    gsap.timeline({ scrollTrigger: { trigger: '.scrollDist', start: 'top top', end: 'bottom bottom', scrub: 1 } })
      .fromTo('.sky', { y: 0 }, { y: -200, duration: 15 }, 0);
  
    // Create a timeline for the mountains animation
    gsap.timeline({ scrollTrigger: { trigger: '.scrollDist', start: 'top top', end: 'bottom bottom', scrub: 1 } })
      .fromTo('.mountBg', { y: -10 }, { y: -100, duration: 15 }, 0)
      .fromTo('.mountMg', { y: -30 }, { y: -250, duration: 15 }, 0)
      .fromTo('.mountFg', { y: -50 }, { y: -600, duration: 15 }, 0);
  
    // Your other animations here
  
    // Handle arrow button animations
    $('#arrowBtn').on('mouseenter', (e) => { gsap.to('.arrow', { y: 10, duration: 0.8, ease: 'back.inOut(3)', overwrite: 'auto' }); })
    $('#arrowBtn').on('mouseleave', (e) => { gsap.to('.arrow', { y: 0, duration: 0.5, ease: 'power3.out', overwrite: 'auto' }); })
    $('#arrowBtn').on('click', (e) => { gsap.to(window, { scrollTo: innerHeight, duration: 1.5, ease: 'power1.inOut' }); }) // scrollTo requires the ScrollTo plugin (not to be confused w/ ScrollTrigger)
  </script>
  
  
  
</body>

</html>
